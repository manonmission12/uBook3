<!doctype html>
<html lang="id">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Profil • uBook</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="global.css">
	<link rel="stylesheet" href="profile.css">
	<link rel="stylesheet" href="mobile.css">
</head>
<body>
	<nav class="navbar">
		<div class="nav-container">
			<a href="index.html" class="brand">
				<i class="fas fa-book-reader"></i>
				<span>Era Baru</span>
			</a>

			<div class="nav-right">
				<!-- MOVED: tombol Beranda taruh di kanan (sebelum theme + profile) -->
				<a href="index.html" class="nav-link nav-link-home">
					<i class="fas fa-house" style="margin-right:8px;"></i> Beranda
				</a>

				<button id="themeToggle" class="theme-btn desktop-only" title="Ganti Tema">
					<i class="fas fa-moon"></i>
				</button>

				<div class="profile-menu" id="profileMenuWrapper">
					<div class="profile-trigger" id="profileTrigger" tabindex="0">
						<span id="userDisplay" class="user-name">User</span>
						<img class="avatar" alt="Profil">
					</div>

					<div class="dropdown-menu" id="profileDropdown">
						<a href="profile.html" class="dropdown-item"><i class="fas fa-user"></i> Profil Saya</a>
						<a href="#koleksi" class="dropdown-item"><i class="fas fa-bookmark"></i> Koleksi Saya</a>
						<div class="dropdown-divider"></div>
						<button id="logoutBtn" class="dropdown-item logout" type="button">
							<i class="fas fa-sign-out-alt"></i> Logout
						</button>
					</div>
				</div>
			</div>
		</div>
	</nav>

	<main class="profile-container" id="top">
		<aside class="profile-card">
			<div class="avatar-wrapper">
				<div class="avatar-large" id="avatarLarge">U</div>
				<button class="btn-edit-photo" id="btnEditPhoto" type="button" title="Ganti Foto">
					<i class="fas fa-camera"></i>
				</button>
				<input id="avatarFile" type="file" accept="image/*" style="display:none">
			</div>

			<!-- FIX: pastikan hint tidak overlap (biarkan di bawah wrapper, center) -->
			<p class="photo-hint">Klik ikon kamera untuk mengganti foto profil.</p>

			<header class="profile-header" style="text-align:center;">
				<h1 id="profileName">User</h1>
				<p class="join-date" id="joinDate">—</p>
			</header>

			<section class="profile-stats" aria-label="Statistik">
				<div class="stat-item">
					<h3 id="statUploads">0</h3>
					<span>Uploads</span>
				</div>
				<div class="stat-item">
					<h3 id="statSaved">0</h3>
					<span>Favorit</span>
				</div>
			</section>

			<button class="btn-logout" id="logoutBtnBig" type="button">
				<i class="fas fa-sign-out-alt"></i> Logout
			</button>

			<!-- NEW: Delete Account -->
			<button class="btn-delete-account" id="deleteAccountBtn" type="button" style="
				width:100%;
				margin-top:10px;
				padding:12px 14px;
				background:transparent;
				color:#ef4444;
				border:1px solid #fecaca;
				border-radius:12px;
				font-weight:700;
				cursor:pointer;
				display:flex;
				align-items:center;
				justify-content:center;
				gap:8px;
				font-size:0.88rem;
				transition: background 0.15s ease, color 0.15s ease;
			">
				<i class="fas fa-trash-alt"></i> Hapus Akun
			</button>
		</aside>

		<section class="profile-content-right">
			<section class="user-uploads-section" id="koleksi">
				<h2><i class="fas fa-bookmark"></i> Koleksi Saya</h2>
				<div class="book-grid-mini" id="savedGrid"></div>
				<div class="empty-msg" id="savedEmpty" style="display:none;">Belum ada buku favorit.</div>
			</section>

			<section class="user-uploads-section">
				<h2><i class="fas fa-cloud-upload-alt"></i> Upload Saya</h2>
				<div class="book-grid-mini" id="uploadsGrid"></div>
				<div class="empty-msg" id="uploadsEmpty" style="display:none;">Belum ada upload.</div>
			</section>
		</section>
	</main>

	<script src="toast.js"></script>
	<script src="profile-script.js"></script>
</body>
</html>